<div class="table">
    <p-table #dt2
    [columns]="selectedColumns" 
    [value]="customers" 
    [tableStyle]="{'min-width': '50rem', 'table-layout': 'fixed', 'width': '100%'}">
        <ng-template pTemplate="caption">
            <div class="flex justify-content-between items-center">
                <div>
                    <div class="position-head">{{ position }}</div>
                </div>
                <div>
                    <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="filterGlobal($event, 'contains')" placeholder="Search keyword" />
                    </span>
                </div>
                <p-multiSelect 
                display="chip" 
                [options]="cols" 
                [(ngModel)]="selectedColumns" 
                optionLabel="header"
                selectedItemsLabel="{0} columns selected" 
                [style]="{'min-width': '250px'}" 
                placeholder="Choose Columns" />
            </div>            
        </ng-template>
        
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th class="column column-name">Name</th> 
                <th class="column column-contact">Contact</th>
                <th class="column column-degree" style="width: auto;">Degree</th>
                <th class="column column-skills" style="width: auto;">Skills</th>
                <th *ngFor="let col of columns" style="width: auto;">
                    {{col.header}}
                </th>
                <th class="column column-action" style="width: auto;">Action</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer let-columns="columns">
            <tr>
                <td>                
                    {{ customer.name }}
                    <div class="view-cv">
                        <a href="{{ customer.cv }}" target="_blank">View CV</a>
                    </div>
                </td>
                <td>{{customer.contact}}</td>
                <td>{{customer.skills}}</td>
                <td>{{customer.degree}}</td>
                <td *ngFor="let col of columns" class="experience">
                    <ng-container *ngIf="col.field === 'comment'; else normalCell">
                        <p-button (onClick)="showDialog()" label="Comment" class="comment-button small-button" [style]="{ 'background-color': 'var(--blue-400)', 'color': 'white', 'border-color': 'var(--blue-400)' }"/>
                        <p-dialog header="Enter your comment:" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
                            <!-- <span class="p-text-secondary block mb-5">Enter your comment.</span> -->
                            <div class="flex align-items-center gap-3 mb-3">
                                <label for="comment" class="font-semibold w-6rem">Comment</label>
                                <textarea pInputText id="comment" class="flex-auto" rows="4" cols="20" autocomplete="off" ></textarea>
                            </div>
                            <div class="flex justify-content-end gap-2">
                                <p-button label="Cancel" severity="secondary" (onClick)="visible = false" />
                                <p-button label="Save" (onClick)="visible = false" (click)="submitComment(customer)" />
                            </div>
                        </p-dialog>
                    </ng-container>
                    <ng-template #normalCell>
                        {{customer[col.field]}}
                    </ng-template>
                </td>
                <td>
                    <!-- <div class="status">{{ showStatus(customer.role_Id) }} </div> -->
                    <p-confirmDialog class=""></p-confirmDialog> 
                    <div class="button-container">                  
                      <p-button icon="pi pi-check" [rounded]="true" [text]="true" [raised]="true" class="accept-button small-button" (click)="updateRoleId(customer.id, 1)"></p-button>
                      <p-button icon="pi pi-times" [rounded]="true" severity="danger" class="remove-button small-button" *ngIf="customer.role_Id===7" (click)="confirmDelete(customer.id)"></p-button>                  
                      <p-button icon="pi pi-times" [rounded]="true" [text]="true" [raised]="true" severity="danger" class="remove-button small-button" *ngIf="customer.role_Id===0" (click)="updateRoleId(customer.id, 7)"></p-button>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>